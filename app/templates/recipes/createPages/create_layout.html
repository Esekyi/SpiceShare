<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>
		{% if title%}
		{{title}}
		{% else %}
		SpiceShare
		{% endif %}
	</title>

	<link rel="stylesheet" href="{{url_for('static', filename='css/output.css')}}">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/recipe_form.css') }}">
	<!-- Include SortableJS for drag-and-drop functionality -->
	<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.14.0/Sortable.min.js"></script>
</head>

<body class="bg-gray-50">
	<!-- Header -->
	<header class="p-4 border-b border-gray-200 shadow-md">
		<div class="max-w-6xl mx-auto flex justify-between items-center">
			<div class="text-xl font-bold text-blue-800">SpiceShare</div>
			<nav>
				<a href="{{ url_for('recipe_routes.list_recipes')}}" class="text-blue-800 mx-4">Recipes</a>
				{% if current_user.is_authenticated %}
				<a href="{{ url_for('user_routes.user_profile', user_id=current_user.id)}}"
					class="text-blue-800 mx-4">My Profile</a>

				<a href="{{ url_for('auth.logout')}}" class="text-blue-800">Logout</a>
				{% else %}
				<a href="{{ url_for('auth.login')}}" class="text-blue-800 mx-4">Sign In</a>
				<a href="{{ url_for('user_routes.register')}}" class="text-blue-800">Sign Up</a>
				{% endif %}
			</nav>
		</div>
	</header>
	<!--- Container for page -->
	<div class="max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-lg mt-10"">
		{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
		<div class=" mb-4 flash-messages">
		{% for category, message in messages %}
		<div class="flash-message bg-{{ category }} p-4 rounded text-white mb-2">
			{{ message }}
			<button class="ml-4 font-bold" onclick="this.parentElement.style.display='none';">×</button>
		</div>
		{% endfor %}
	</div>
	{% endif %}
	{% endwith %}

	{% block content %}
	{% endblock %}

	</div>
	<!-- Footer -->
	<footer class="bg-gray-100 py-6 mt-10">
		<div class="max-w-6xl mx-auto text-center">
			<p class="mb-4">Made with ❤️ by Esekyi</p>
			<a href="">
				<p class="text-sm text-gray-600 mt-4">About</p>
			</a>
			<p class="text-sm text-gray-600 mt-4">&copy; 2024 SpiceShare. All rights reserved.</p>
		</div>
	</footer>

	<script src="{{ url_for('static', filename='js/recipe_form.js') }}"></script>
	<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>

</html>