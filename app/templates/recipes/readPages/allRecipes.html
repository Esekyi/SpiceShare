{% extends "recipes/readPages/read_layout.html" %}
{% block content %}
<div class="flex justify-between items-center">
	<h1 class="text-3xl font-bold">Recipes</h1>
	<button type="button" class="bg-blue-600 text-white py-2 px-4 rounded"
		onclick="window.location.href='{{ url_for('recipe_routes.add_recipe') }}';">+ Add Recipe</button>
</div>
<div class="mt-6 mb-6">
	<form action="{{ url_for('search.search') }}" method="get" class="flex">
		<input type="text" name="q" placeholder="Search by recipe name, category, ingredients..."
			class="w-full border border-gray-300 rounded-l-lg py-3 px-4 focus:outline-none focus:border-indigo-600">
		<button type="submit" class="bg-indigo-600 text-white px-6 py-3 rounded-r-lg hover:bg-indigo-700 transition duration-300">Search</button>
	</form>
</div>
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

	{% for recipe in recipes %}
	<div class="bg-white shadow-lg rounded-lg overflow-hidden">
		<div class="h-40 bg-gray-200 flex items-center justify-center"> <!-- Default background -->
			{% if recipe.image_url %}
			<img src="https://recipe-files.s3.eu-north-1.amazonaws.com/recipes/{{recipe.image_url}}"
				alt="{{recipe.title}}" class="w-full h-full object-cover">
			{% else %}
			<span class="text-gray-500">No Image Available</span> <!-- Optional text for no image -->
			{% endif %}
		</div>
		<div class="p-4">
			<h3 class="text-lg font-bold">{{recipe.title}}</h3>
			<p class="text-gray-600">Tasty enchilada recipe</p>
			<p class="text-gray-500">Created by: {{ recipe.user.username }}</p>
			<a href="{{ url_for('recipe_routes.view_recipe', recipe_id=recipe.id) }}" class="text-blue-600 mt-2 inline-block">Read More</a>
		</div>
	</div>
	{% endfor %}
	<!-- Additional recipe cards -->
</div>
<!-- Pagination -->
<div class="flex justify-center mt-6">
	<div class="inline-flex items-center space-x-4">
		{% if current_page > 1 %}
		<a href="?page={{ current_page - 1 }}&per_page={{ per_page }}"
			class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Previous</a>
		{% endif %}
		<span class="text-gray-600">Page {{ current_page }} of {{ total_pages }}</span>
		{% if current_page < total_pages %} <a href="?page={{ current_page + 1 }}&per_page={{ per_page }}"
			class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Next</a>
			{% endif %}
	</div>
</div>

<section class="mt-12">
	<h2 class="text-2xl font-bold">Most Recent</h2>
	<div class="flex space-x-4 mt-4 overflow-x-auto">
		<!-- Repeat this block for each recent recipe -->
		<div class="bg-white shadow-lg rounded-lg overflow-hidden w-64">
			<img src="recent1.jpg" alt="Spinach Skillet" class="w-full h-40 object-cover">
			<div class="p-4">
				<h3 class="text-lg font-bold">Spinach Skillet</h3>
				<p class="text-gray-600">Quick and easy comfort food</p>
				<a href="#" class="text-blue-600 mt-2 inline-block">Read More</a>
			</div>
		</div>
		<!-- Additional recent recipe cards -->
	</div>
</section>

<section class="mt-12">
	<h2 class="text-2xl font-bold">Most Viewed</h2>
	<div class="flex space-x-4 mt-4 overflow-x-auto">
		<!-- Repeat this block for each viewed recipe -->
		<div class="bg-white shadow-lg rounded-lg overflow-hidden w-64">
			<img src="viewed1.jpg" alt="Savory Porridge" class="w-full h-40 object-cover">
			<div class="p-4">
				<h3 class="text-lg font-bold">Savory Porridge</h3>
				<p class="text-gray-600">Aunt Mary's recipe</p>
				<a href="#" class="text-blue-600 mt-2 inline-block">Read More</a>
			</div>
		</div>
		<!-- Additional viewed recipe cards -->
	</div>
</section>

{% endblock %}

{% block scripts %}
	<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
{% endblock scripts %}